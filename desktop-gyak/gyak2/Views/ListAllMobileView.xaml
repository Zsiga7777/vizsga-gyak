<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:viewmodels="clr-namespace:gyak2.ViewModels"
             xmlns:toolkit="http://schemas.microsoft.com/dotnet/2022/maui/toolkit"
             xmlns:models="clr-namespace:gyak2.Models"
             x:DataType="viewmodels:ListAllMobileViewModel"
             x:Class="gyak2.Views.ListAllMobileView"
             x:Name="this"
             Title="">
    <ContentPage.Behaviors>
        <toolkit:EventToCommandBehavior Command="{Binding AppearingCommand}" EventName="Appearing" BindingContext="{Binding Source={x:Reference this}, Path=BindingContext}"/>
    </ContentPage.Behaviors>

    <CollectionView ItemsSource="{Binding Phones}" >
        <CollectionView.ItemTemplate>
            <DataTemplate x:DataType="models:PhoneModel">
                <Grid HorizontalOptions="Center" VerticalOptions="Center">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="100"/>
                        <ColumnDefinition Width="200"/>
                        <ColumnDefinition Width="100"/>
                        <ColumnDefinition Width="100"/>
                        <ColumnDefinition Width="100"/>
                    </Grid.ColumnDefinitions>

                    <Label Text="{Binding Manifacturer}" Grid.Column="0" HorizontalTextAlignment="Center" VerticalTextAlignment="Center"/>
                    <Label Text="{Binding Model}" Grid.Column="1" HorizontalTextAlignment="Center" VerticalTextAlignment="Center"/>
                    <Label Text="{Binding StorageCapacity}" Grid.Column="2" HorizontalTextAlignment="Center" VerticalTextAlignment="Center"/>
                    <Button Text="Delete" Command="{Binding BindingContext.DeleteCommand, Source={x:Reference this}}"  CommandParameter="{Binding Id}" Grid.Column="3"/>
                    <Button Text="Update" Command="{Binding BindingContext.UpdateCommand, Source={x:Reference this}}"  CommandParameter="{Binding Id}" Grid.Column="4"/>
                </Grid>
            </DataTemplate>
        </CollectionView.ItemTemplate>
        
    </CollectionView>
    
    
</ContentPage>